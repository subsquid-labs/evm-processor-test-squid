module.exports = class Data1702927524526 {
    name = 'Data1702927524526'

    async up(db) {
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "block" integer NOT NULL, "test_id" text NOT NULL, "network" text NOT NULL, "data_source" text NOT NULL, "logs" integer array, "state_diffs" integer array, "transaction_index" integer NOT NULL, "from" text, "to" text, "hash" text, "gas" numeric, "gas_price" numeric, "max_fee_per_gas" numeric, "max_priority_fee_per_gas" numeric, "input" text, "nonce" integer, "value" numeric, "v" numeric, "r" text, "s" text, "y_parity" integer, "chain_id" integer, "gas_used" numeric, "cumulative_gas_used" numeric, "effective_gas_price" numeric, "contract_address" text, "type" integer, "status" integer, "sighash" text, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_5be3faa401323efbd75cacdf50" ON "transaction" ("block") `)
        await db.query(`CREATE INDEX "IDX_2f208bf11bc7ebd0453854617e" ON "transaction" ("test_id") `)
        await db.query(`CREATE INDEX "IDX_05e00879718cfc101c744472ad" ON "transaction" ("network") `)
        await db.query(`CREATE INDEX "IDX_38adb1378f88e9d64a1830166d" ON "transaction" ("data_source") `)
        await db.query(`CREATE TABLE "log" ("id" character varying NOT NULL, "block" integer NOT NULL, "test_id" text NOT NULL, "network" text NOT NULL, "data_source" text NOT NULL, "transaction" integer, "log_index" integer NOT NULL, "transaction_index" integer NOT NULL, "address" text, "data" text, "topics" text array, "transaction_hash" text, CONSTRAINT "PK_350604cbdf991d5930d9e618fbd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_28d91847f17afacc54691025a5" ON "log" ("block") `)
        await db.query(`CREATE INDEX "IDX_7e13e541d64704531b166f0f8e" ON "log" ("test_id") `)
        await db.query(`CREATE INDEX "IDX_e0b163e11246bea4422cb3b936" ON "log" ("network") `)
        await db.query(`CREATE INDEX "IDX_82a451c91c13cea7eec554864a" ON "log" ("data_source") `)
        await db.query(`CREATE TABLE "trace" ("id" character varying NOT NULL, "block" integer NOT NULL, "test_id" text NOT NULL, "network" text NOT NULL, "data_source" text NOT NULL, "transaction" integer, "parent_id" text, "children_ids" text array, "transaction_index" integer NOT NULL, "trace_address" integer array NOT NULL, "type" text NOT NULL, "error" text, "create_from" text, "create_value" numeric, "create_gas" numeric, "create_init" text, "create_result_gas_used" numeric, "create_result_code" text, "create_result_address" text, "call_from" text, "call_to" text, "call_value" numeric, "call_gas" numeric, "call_sighash" text, "call_input" text, "call_result_gas_used" numeric, "call_result_output" text, "suicide_address" text, "suicide_refund_address" text, "suicide_balance" numeric, "reward_author" text, "reward_value" text, "reward_type" text, CONSTRAINT "PK_d55e3146ed1a9769069a83a8044" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6db8581d6017497f072d7e2620" ON "trace" ("block") `)
        await db.query(`CREATE INDEX "IDX_4ebbb70bf35fd1c73c7a2a1095" ON "trace" ("test_id") `)
        await db.query(`CREATE INDEX "IDX_2779028a8236999218898f1c61" ON "trace" ("network") `)
        await db.query(`CREATE INDEX "IDX_3956b39b6e9ad0cad7bf32ad6f" ON "trace" ("data_source") `)
        await db.query(`CREATE TABLE "state_diff" ("id" character varying NOT NULL, "block" integer NOT NULL, "test_id" text NOT NULL, "network" text NOT NULL, "data_source" text NOT NULL, "transaction" integer, "transaction_index" integer NOT NULL, "address" text NOT NULL, "key" text NOT NULL, "kind" text, "prev" text, "next" text, CONSTRAINT "PK_df5f1190d67ff8c8401429c8ba1" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f43e4a06c5179387eaaa6a2c3d" ON "state_diff" ("block") `)
        await db.query(`CREATE INDEX "IDX_6236781164d69b8229a7bdb40a" ON "state_diff" ("test_id") `)
        await db.query(`CREATE INDEX "IDX_3c745557b66543b5bfdb7c31c3" ON "state_diff" ("network") `)
        await db.query(`CREATE INDEX "IDX_cfe5e4928eadac9ea7b0bba907" ON "state_diff" ("data_source") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "test_id" text NOT NULL, "network" text NOT NULL, "data_source" text NOT NULL, "hash" text NOT NULL, "height" integer NOT NULL, "parent_hash" text NOT NULL, "timestamp" integer, "nonce" text, "sha3_uncles" text, "logs_bloom" text, "transactions_root" text, "state_root" text, "receipts_root" text, "mix_hash" text, "miner" text, "difficulty" numeric, "total_difficulty" numeric, "extra_data" text, "size" numeric, "gas_limit" numeric, "gas_used" numeric, "base_fee_per_gas" numeric, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c4a612aba4195152708e095cec" ON "block" ("test_id") `)
        await db.query(`CREATE INDEX "IDX_ea1ca207644ac464e727327c38" ON "block" ("network") `)
        await db.query(`CREATE INDEX "IDX_082bd0fd6e11945b8f138774aa" ON "block" ("data_source") `)
        await db.query(`CREATE INDEX "IDX_bce676e2b005104ccb768495db" ON "block" ("height") `)
    }

    async down(db) {
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_5be3faa401323efbd75cacdf50"`)
        await db.query(`DROP INDEX "public"."IDX_2f208bf11bc7ebd0453854617e"`)
        await db.query(`DROP INDEX "public"."IDX_05e00879718cfc101c744472ad"`)
        await db.query(`DROP INDEX "public"."IDX_38adb1378f88e9d64a1830166d"`)
        await db.query(`DROP TABLE "log"`)
        await db.query(`DROP INDEX "public"."IDX_28d91847f17afacc54691025a5"`)
        await db.query(`DROP INDEX "public"."IDX_7e13e541d64704531b166f0f8e"`)
        await db.query(`DROP INDEX "public"."IDX_e0b163e11246bea4422cb3b936"`)
        await db.query(`DROP INDEX "public"."IDX_82a451c91c13cea7eec554864a"`)
        await db.query(`DROP TABLE "trace"`)
        await db.query(`DROP INDEX "public"."IDX_6db8581d6017497f072d7e2620"`)
        await db.query(`DROP INDEX "public"."IDX_4ebbb70bf35fd1c73c7a2a1095"`)
        await db.query(`DROP INDEX "public"."IDX_2779028a8236999218898f1c61"`)
        await db.query(`DROP INDEX "public"."IDX_3956b39b6e9ad0cad7bf32ad6f"`)
        await db.query(`DROP TABLE "state_diff"`)
        await db.query(`DROP INDEX "public"."IDX_f43e4a06c5179387eaaa6a2c3d"`)
        await db.query(`DROP INDEX "public"."IDX_6236781164d69b8229a7bdb40a"`)
        await db.query(`DROP INDEX "public"."IDX_3c745557b66543b5bfdb7c31c3"`)
        await db.query(`DROP INDEX "public"."IDX_cfe5e4928eadac9ea7b0bba907"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_c4a612aba4195152708e095cec"`)
        await db.query(`DROP INDEX "public"."IDX_ea1ca207644ac464e727327c38"`)
        await db.query(`DROP INDEX "public"."IDX_082bd0fd6e11945b8f138774aa"`)
        await db.query(`DROP INDEX "public"."IDX_bce676e2b005104ccb768495db"`)
    }
}
